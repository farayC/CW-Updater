clear_log = {
    effect = {
        debug_log = "CRUSADERWARS3"
    }
    
}


right_commander = {
    effect = {
        debug_log_scopes = yes
        set_variable = {name = right_side_commander value = scope:right_commander}
    }
}

print_id = {
    effect = {
        debug_log = "PlayerID:[THIS.Char.GetID]"
    }
}

print_enemy_id = {
    effect = {
        debug_log = "EnemyID:[THIS.Char.GetID]"
    }
}



battle_ended = {
    effect = {
        set_global_variable = {
            name = isBattleFinished
            value = yes
        }

    }
}

log_variables = {
    effect = {

        if = {
            limit = {global_var:isBattleFinished = no}
            debug_log = "battle is not finished"

        }

        if = {
            limit = {global_var:isBattleFinished = yes}
            debug_log = "battle is finished"

        }
    }
}

search_winner = {
    effect = {

        while = {
            limit = {global_var:isBattleFinished = no}
            debug_log = "waiting for battle results..."
        }

        if = {
            limit = {global_var:isBattleFinished = yes}
            debug_log = "battle is finished"

        }
    }
}

battle_not_ended = {
    effect = {
        set_global_variable = { 
            name = isBattleFinished 
            value = no 
        }
    }

}